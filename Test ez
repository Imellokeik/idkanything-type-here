local s=Instance.new("ScreenGui",game.CoreGui)
s.Name="InjuredCratePanel"
s.ResetOnSpawn=false
s.IgnoreGuiInset=true

local main=Instance.new("Frame",s)
main.Size=UDim2.new(0,240,0,80)
main.Position=UDim2.new(0,30,0,150)
main.BackgroundColor3=Color3.fromRGB(20,20,20)
main.BorderSizePixel=0
main.Active=true

Instance.new("UICorner",main).CornerRadius=UDim.new(0,6)

local outline = Instance.new("UIStroke", main)
outline.Thickness = 2
outline.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
outline.LineJoinMode = Enum.LineJoinMode.Round

-- Rainbow animation
task.spawn(function()
local h = 0
while true do
h = (h + 1) % 360
local c = Color3.fromHSV(h/360, 1, 1)
outline.Color = c
task.wait(0.03)
end
end)

local topbar=Instance.new("TextButton",main)
topbar.Size=UDim2.new(1,0,0,30)
topbar.BackgroundColor3=Color3.fromRGB(30,30,30)
topbar.Text="Egg Event Farmer"
topbar.Font=Enum.Font.GothamBold
topbar.TextColor3=Color3.new(1,1,1)
topbar.TextSize=14
topbar.BorderSizePixel=0
topbar.AutoButtonColor=false
topbar.Active=true

Instance.new("UICorner",topbar).CornerRadius=UDim.new(0,6)

local dragging=false
local offset
local inputConnection

topbar.InputBegan:Connect(function(input)
if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
dragging=true
offset=Vector2.new(input.Position.X, input.Position.Y) - Vector2.new(main.Position.X.Offset, main.Position.Y.Offset)

if inputConnection then inputConnection:Disconnect() end
inputConnection = game:GetService("UserInputService").InputChanged:Connect(function(moveInput)
if dragging and (moveInput.UserInputType == Enum.UserInputType.MouseMovement or moveInput.UserInputType == Enum.UserInputType.Touch) then
local pos = Vector2.new(moveInput.Position.X, moveInput.Position.Y) - offset
main.Position = UDim2.new(0, pos.X, 0, pos.Y)
end
end)
end
end)

topbar.InputEnded:Connect(function(input)
if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
dragging = false
if inputConnection then inputConnection:Disconnect() end
end
end)

local btn=Instance.new("TextButton",main)
btn.Size=UDim2.new(0.9,0,0,30)
btn.Position=UDim2.new(0.05,0,0,40)
btn.BackgroundColor3=Color3.fromRGB(255,0,0)
btn.Text="Egg Event Farm: Off"
btn.Font=Enum.Font.GothamSemibold
btn.TextColor3=Color3.new(1,1,1)
btn.TextSize=13
btn.BorderSizePixel=0

Instance.new("UICorner",btn).CornerRadius=UDim.new(0,5)

local skip=game:GetService("ReplicatedStorage"):FindFirstChild("CrateGivingBefore1M")
local on=false

btn.MouseButton1Click:Connect(function()
on=not on
btn.BackgroundColor3=on and Color3.fromRGB(0,255,0) or Color3.fromRGB(255,0,0)
btn.Text=on and "Egg Event Farm: On" or "Egg Event Farm: Off"
end)

task.spawn(function()
while task.wait(1) do
if on and skip and skip:IsA("RemoteEvent") then
pcall(function()
skip:FireServer()
end)
end
end
end)
